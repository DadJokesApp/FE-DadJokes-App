{"ast":null,"code":"import axios from 'axios';\nimport jwt from 'jsonwebtoken';\nexport const DELETE_USER_START = 'DELETE_USER_START';\nexport const DELETE_USER_SUCCESS = 'DELETE_USER_SUCCESS';\nexport const DELETE_USER_FAILURE = 'DELETE_USER_FAILURE';\nexport const deleteUser = user => dispatch => {\n  console.log('User: ', user);\n  dispatch({\n    type: DELETE_USER_START\n  }); // const headers = {\n  //   'Authorization': `${token}`\n  // }\n\n  return axios.put('http://localhost:4000/api/auth/register', user, {\n    headers: user\n  }) // .put('https://dadjokes-backend.herokuapp.com/api/auth/register', user)\n  .then(res => {\n    const token = res.data.token;\n    localStorage.setItem('token', token);\n    const decodedToken = jwt.decode(token);\n    dispatch({\n      type: DELETE_USER_SUCCESS,\n      payload: {\n        data: res.data,\n        user: decodedToken\n      }\n    });\n  }).catch(err => {\n    dispatch({\n      type: DELETE_USER_FAILURE,\n      payload: err\n    });\n  });\n};","map":{"version":3,"sources":["/home/fireninja/Documents/Lambda/FE-DadJokes-App/src/actions/deleteUser.js"],"names":["axios","jwt","DELETE_USER_START","DELETE_USER_SUCCESS","DELETE_USER_FAILURE","deleteUser","user","dispatch","console","log","type","put","headers","then","res","token","data","localStorage","setItem","decodedToken","decode","payload","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,GAAP,MAAgB,cAAhB;AAEA,OAAO,MAAMC,iBAAiB,GAAG,mBAA1B;AACP,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B;AACP,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B;AAEP,OAAO,MAAMC,UAAU,GAAGC,IAAI,IAAIC,QAAQ,IAAI;AAC5CC,EAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBH,IAAtB;AACAC,EAAAA,QAAQ,CAAC;AAAEG,IAAAA,IAAI,EAAER;AAAR,GAAD,CAAR,CAF4C,CAG5C;AACA;AACA;;AACA,SAAOF,KAAK,CACTW,GADI,CACA,yCADA,EAELL,IAFK,EAGL;AAAEM,IAAAA,OAAO,EAAEN;AAAX,GAHK,EAKL;AALK,GAMJO,IANI,CAMCC,GAAG,IAAI;AACX,UAAMC,KAAK,GAAGD,GAAG,CAACE,IAAJ,CAASD,KAAvB;AACAE,IAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,KAA9B;AACA,UAAMI,YAAY,GAAGlB,GAAG,CAACmB,MAAJ,CAAWL,KAAX,CAArB;AACAR,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEP,mBADC;AAEPkB,MAAAA,OAAO,EAAE;AACPL,QAAAA,IAAI,EAAEF,GAAG,CAACE,IADH;AAEPV,QAAAA,IAAI,EAAEa;AAFC;AAFF,KAAD,CAAR;AAOD,GAjBI,EAkBJG,KAlBI,CAkBEC,GAAG,IAAI;AACZhB,IAAAA,QAAQ,CAAC;AAAEG,MAAAA,IAAI,EAAEN,mBAAR;AAA6BiB,MAAAA,OAAO,EAAEE;AAAtC,KAAD,CAAR;AACD,GApBI,CAAP;AAqBD,CA3BM","sourcesContent":["import axios from 'axios'\n\nimport jwt from 'jsonwebtoken'\n\nexport const DELETE_USER_START = 'DELETE_USER_START'\nexport const DELETE_USER_SUCCESS = 'DELETE_USER_SUCCESS'\nexport const DELETE_USER_FAILURE = 'DELETE_USER_FAILURE'\n\nexport const deleteUser = user => dispatch => {\n  console.log('User: ', user)\n  dispatch({ type: DELETE_USER_START })\n  // const headers = {\n  //   'Authorization': `${token}`\n  // }\n  return axios\n    .put('http://localhost:4000/api/auth/register', \n    user,\n    { headers: user }\n    )\n    // .put('https://dadjokes-backend.herokuapp.com/api/auth/register', user)\n    .then(res => {\n      const token = res.data.token\n      localStorage.setItem('token', token)\n      const decodedToken = jwt.decode(token)\n      dispatch({\n        type: DELETE_USER_SUCCESS,\n        payload: {\n          data: res.data,\n          user: decodedToken,\n          }\n      })\n    })\n    .catch(err => {\n      dispatch({ type: DELETE_USER_FAILURE, payload: err })\n    })\n}"]},"metadata":{},"sourceType":"module"}